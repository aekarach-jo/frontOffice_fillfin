(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{21152:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/member/cart",function(){return n(4353)}])},85760:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var c=n(47568),s=n(29815),r=n(34051),a=n.n(r),i=n(85893),o=n(9669),l=n.n(o),u=n(47041),d=n(25675),h=n.n(d),m=n(67294),p=n(4687),x=n(15725),f=n.n(x),j=n(57496),g=n.n(j),v=n(57046).io,_=f().socketPath,N=f().apiPath;function C(){var e=(0,m.useRef)(0),t=(0,m.useState)(!1),n=t[0],r=t[1],o=(0,m.useState)([]),d=o[0],x=o[1],f=(0,m.useState)(""),j=f[0],C=f[1],b=(0,p.b)(),w=v(_),k=(0,u.getCookie)("access_token"),y=b.isLogin.get_login,S=b.isStore.get_isStore,B=(0,m.useState)(!0),T=B[0],P=B[1],U=(0,u.getCookie)("name");function E(){return Z.apply(this,arguments)}function Z(){return(Z=(0,c.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l()({method:"get",url:"".concat(N,"/api/member/getOldChat"),headers:{Authorization:"Bearer ".concat(k)}}).then((function(t){P(t.data.statusRead),x(t.data.oldMessage),n&&setTimeout((function(){null!=e.current&&e.current.scrollTo({behavior:"smooth",top:e.current.scrollHeight})}),500)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function z(){return(z=(0,c.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"get",url:"".concat(N,"/api/member/readChat"),headers:{Authorization:"Bearer ".concat(k)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function A(){return F.apply(this,arguments)}function F(){return(F=(0,c.Z)(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x((function(e){return(0,s.Z)(e).concat([{role:"member",message:j}])})),C(""),setTimeout((function(){e.current.scrollTo({behavior:"smooth",top:e.current.scrollHeight})}),200),t.prev=3,t.next=6,l()({method:"POST",url:"".concat(N,"/api/member/chatToAdmin"),headers:{Authorization:"Bearer ".concat(k)},data:{message:j}}).then((function(e){}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})))).apply(this,arguments)}(0,m.useEffect)((function(){n&&(!function(){z.apply(this,arguments)}(),E())}),[n]),w.on("connect",(function(){})),w.on("user-".concat(U),(function(e,t){!function(e){x((function(t){return(0,s.Z)(t).concat([{username:e.username,role:e.role,message:e.message}])})),E(),C("")}(e)}));return(0,i.jsx)(m.Fragment,{children:y&&!S&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"contact-us",children:(0,i.jsxs)("div",{className:"column-contact-us",children:[!n&&(0,i.jsx)("div",{className:"text-contact-us",children:(0,i.jsx)("p",{children:"\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e40\u0e23\u0e32"})}),(0,i.jsxs)("div",{className:"img-contact-us",onClick:function(){return r(!n)},children:[!T&&(0,i.jsx)("div",{className:g().statusChat,children:(0,i.jsx)("div",{className:g().newMessage,children:"  "})}),(0,i.jsx)(h(),{className:g().logoContact,width:57,height:57,src:"/assets/images/contact.jpg",alt:"image-contactUs"})]})]})}),n&&(0,i.jsxs)("div",{className:g().chatContent,children:[(0,i.jsx)("div",{className:g().chatHeader,children:(0,i.jsx)("p",{children:"Fillfin"})}),(0,i.jsx)("div",{className:g().chatBody,ref:e,children:null===d||void 0===d?void 0:d.map((function(e,t){return(0,i.jsx)("div",{children:"member"==e.role?(0,i.jsxs)("div",{className:g().memberChat,children:[(0,i.jsx)("img",{className:g().iconMember,src:"/assets/images/product.png",alt:"image-contactUs"}),(0,i.jsx)("p",{children:e.message})]}):(0,i.jsxs)("div",{className:g().adminChat,children:[(0,i.jsx)("img",{className:g().iconAdmin,src:"/assets/images/contact.jpg",alt:"image-contactUs"}),(0,i.jsx)("p",{children:e.message})]})},t)}))}),(0,i.jsxs)("div",{className:g().chatFooter,children:[(0,i.jsx)("span",{className:g().iconPlus,children:(0,i.jsx)("i",{className:"fa-solid fa-circle-plus"})}),(0,i.jsx)("input",{value:j,type:"text",onChange:function(e){return C(e.target.value)},onKeyDown:function(e){13===e.keyCode&&A()}}),(0,i.jsx)("span",{className:g().iconSend,children:(0,i.jsx)("i",{className:"fa-solid fa-paper-plane",onClick:function(e){return A()}})})]})]})]})})}},4353:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return w},default:function(){return k}});var c=n(85893),s=n(9008),r=n.n(s),a=n(67294),i=n(47568),o=n(34051),l=n.n(o),u=n(47041),d=n(11163),h=n(4687),m=n(9669),p=n.n(m),x=n(86455),f=n.n(x),j=n(15725),g=n.n(j),v=n(85760),_=n(65589),N=n.n(_),C=g().apiPath;function b(){var e=function(e){f().fire({title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e25\u0e1a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",icon:"warning",position:"center",showCancelButton:!0,showConfirmButton:!0,confirmButtonColor:"#C93A87",confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",allowOutsideClick:!1,animation:!0}).then((function(t){t.isConfirmed&&function(e){_.apply(this,arguments)}(e)}))},t=(0,d.useRouter)(),n=(0,h.b)(),s=(0,a.useState)(),r=s[0],o=s[1],m=(0,a.useState)(),x=m[0],j=m[1];n.isLogin.get_login;(0,a.useEffect)((function(){b()}),[]);var g=f().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:800,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",f().stopTimer),e.addEventListener("mouseleave",f().resumeTimer)}});function _(){return(_=(0,i.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.getCookie)("access_token"),e.next=3,p()({method:"GET",url:"".concat(C,"/api/member/cart/delete/").concat(t),headers:{Authorization:"Bearer ".concat(n)}}).then((function(){g.fire({icon:"success",title:"\u0e25\u0e1a\u0e41\u0e25\u0e49\u0e27"}),b()}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return w.apply(this,arguments)}function w(){return(w=(0,i.Z)(l().mark((function e(){var t,c,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.getCookie)("access_token"),e.next=3,p()({method:"GET",url:"".concat(C,"/api/member/cart/get"),headers:{Authorization:"Bearer ".concat(t)}});case 3:c=e.sent,s=c.data.cart,j(c.data.totalprice),o(s),n.cartQty.set_cart_qty(s.length);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=(0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,u.getCookie)("access_token"),e.next=3,p()({method:"GET",url:"".concat(C,"/api/member/cart/checkProduct"),headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){e.data.status?t.push("/member/cart/payment"):f().fire({title:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e1a\u0e32\u0e07\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2b\u0e21\u0e14",icon:"warning",position:"center",showConfirmButton:!1,timer:800})}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)("div",{className:"shopping-cart ".concat(N().minHeight),children:[(0,c.jsx)("h2",{children:"\u0e15\u0e23\u0e30\u0e01\u0e23\u0e49\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,c.jsxs)("div",{className:"shopping-cart-column",children:[(0,c.jsxs)("div",{className:"column-list-left",children:[(0,c.jsxs)("table",{children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"head-table",children:[(0,c.jsx)("th",{style:{width:"100%"},children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,c.jsx)("th",{className:"total",children:"\u0e23\u0e32\u0e04\u0e32 "})]})}),(0,c.jsx)("tbody",{children:r?(0,c.jsx)(c.Fragment,{children:r.map((function(t,n){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"column-left",children:[(0,c.jsx)("img",{src:"".concat(C).concat(t.productImg),alt:"image-product"}),(0,c.jsxs)("div",{className:"column-text",children:[(0,c.jsx)("h4",{children:t.productName}),(0,c.jsx)("p",{children:t.productContent})]})]})}),(0,c.jsx)("td",{children:(0,c.jsxs)("div",{className:"column-right",children:[(0,c.jsx)("p",{style:{marginRight:"0px"},children:t.productPrice}),(0,c.jsx)("button",{onClick:function(){return e(t.productCode)},children:(0,c.jsx)("i",{className:"fa-regular fa-trash-can"})})]})})]},n)}))}):null})]}),(0,c.jsxs)("div",{className:"column-text-box",children:[(0,c.jsx)("h3",{children:"\u0e40\u0e07\u0e37\u0e2d\u0e19\u0e44\u0e02\u0e01\u0e32\u0e23\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,c.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Magna felis id nulla eget. Sed donec faucibus enim in porta tristique. Sed laoreet elementum dictumst blandit at euismod urna. Sed turpis consectetur potenti scelerisque ac."}),(0,c.jsx)("p",{children:"Sit varius pellentesque mattis vitae. Integer nisl nisl neque interdum diam. Sit id viverra lobortis nec elit sit arcu. Ac, adipiscing"})]})]}),(0,c.jsxs)("div",{className:"column-list-right",children:[(0,c.jsxs)("table",{children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"head-table",children:[(0,c.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,c.jsx)("th",{className:"total",children:"\u0e23\u0e32\u0e04\u0e32 "})]})}),(0,c.jsxs)("tbody",{children:[r?(0,c.jsx)(c.Fragment,{children:r.map((function(e,t){return(0,c.jsxs)("tr",{children:[(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"column-left",children:(0,c.jsx)("div",{className:"column-text",children:(0,c.jsx)("h4",{children:e.productName})})})}),(0,c.jsx)("td",{children:(0,c.jsx)("div",{className:"column-right",children:(0,c.jsx)("p",{children:e.productPrice})})})]},t)}))}):null,(0,c.jsxs)("tr",{className:"td-summary",children:[(0,c.jsx)("td",{children:"\u0e23\u0e27\u0e21\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,c.jsx)("td",{children:x})]}),(0,c.jsxs)("tr",{className:"td-bottom",children:[(0,c.jsx)("td",{children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,c.jsx)("td",{children:x})]})]})]}),(0,c.jsx)("button",{onClick:function(){return function(){return k.apply(this,arguments)}()},children:"\u0e0a\u0e33\u0e23\u0e30\u0e04\u0e48\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e25\u0e30\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23"})]})]}),(0,c.jsx)(v.Z,{})]})})}var w=!0;function k(){return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(r(),{children:(0,c.jsx)("title",{children:"Cart"})}),(0,c.jsx)(b,{})]})}},65589:function(e){e.exports={minHeight:"cart_minHeight__Kg_S4"}},57496:function(e){e.exports={statusChat:"contactUs_statusChat__4yzMc",newMessage:"contactUs_newMessage__5bOTd",chatContent:"contactUs_chatContent__zrKce",mymove:"contactUs_mymove__ohnuv",chatHeader:"contactUs_chatHeader__NHzwo",chatBody:"contactUs_chatBody__b6Imq",memberChat:"contactUs_memberChat__I3Y9E",adminChat:"contactUs_adminChat__1vv95",chatFooter:"contactUs_chatFooter__ZRmZX",iconPlus:"contactUs_iconPlus__zgrYW",iconSend:"contactUs_iconSend__GH_t8"}}},function(e){e.O(0,[675,354,774,888,179],(function(){return t=21152,e(e.s=t);var t}));var t=e.O();_N_E=t}]);