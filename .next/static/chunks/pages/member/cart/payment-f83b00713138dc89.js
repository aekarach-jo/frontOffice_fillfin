(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{6230:function(e){e.exports="object"==typeof self?self.FormData:window.FormData},14773:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/member/cart/payment",function(){return n(36838)}])},85760:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(47568),s=n(29815),c=n(34051),r=n.n(c),i=n(85893),o=n(9669),l=n.n(o),u=n(47041),d=n(25675),h=n.n(d),m=n(67294),p=n(4687),x=n(15725),f=n.n(x),g=n(57496),j=n.n(g),v=n(57046).io,N=f().socketPath,_=f().apiPath;function b(){var e=(0,m.useRef)(0),t=(0,m.useState)(!1),n=t[0],c=t[1],o=(0,m.useState)([]),d=o[0],x=o[1],f=(0,m.useState)(""),g=f[0],b=f[1],C=(0,p.b)(),y=v(N),w=(0,u.getCookie)("access_token"),k=C.isLogin.get_login,S=C.isStore.get_isStore,U=(0,m.useState)(!0),T=U[0],B=U[1],F=(0,u.getCookie)("name");function P(){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l()({method:"get",url:"".concat(_,"/api/member/getOldChat"),headers:{Authorization:"Bearer ".concat(w)}}).then((function(t){B(t.data.statusRead),x(t.data.oldMessage),n&&setTimeout((function(){null!=e.current&&e.current.scrollTo({behavior:"smooth",top:e.current.scrollHeight})}),500)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function E(){return(E=(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"get",url:"".concat(_,"/api/member/readChat"),headers:{Authorization:"Bearer ".concat(w)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function L(){return z.apply(this,arguments)}function z(){return(z=(0,a.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x((function(e){return(0,s.Z)(e).concat([{role:"member",message:g}])})),b(""),setTimeout((function(){e.current.scrollTo({behavior:"smooth",top:e.current.scrollHeight})}),200),t.prev=3,t.next=6,l()({method:"POST",url:"".concat(_,"/api/member/chatToAdmin"),headers:{Authorization:"Bearer ".concat(w)},data:{message:g}}).then((function(e){}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})))).apply(this,arguments)}(0,m.useEffect)((function(){n&&(!function(){E.apply(this,arguments)}(),P())}),[n]),y.on("connect",(function(){})),y.on("user-".concat(F),(function(e,t){!function(e){x((function(t){return(0,s.Z)(t).concat([{username:e.username,role:e.role,message:e.message}])})),P(),b("")}(e)}));return(0,i.jsx)(m.Fragment,{children:k&&!S&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"contact-us",children:(0,i.jsxs)("div",{className:"column-contact-us",children:[!n&&(0,i.jsx)("div",{className:"text-contact-us",children:(0,i.jsx)("p",{children:"\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e40\u0e23\u0e32"})}),(0,i.jsxs)("div",{className:"img-contact-us",onClick:function(){return c(!n)},children:[!T&&(0,i.jsx)("div",{className:j().statusChat,children:(0,i.jsx)("div",{className:j().newMessage,children:"  "})}),(0,i.jsx)(h(),{className:j().logoContact,width:57,height:57,src:"/assets/images/contact.jpg",alt:"image-contactUs"})]})]})}),n&&(0,i.jsxs)("div",{className:j().chatContent,children:[(0,i.jsx)("div",{className:j().chatHeader,children:(0,i.jsx)("p",{children:"Fillfin"})}),(0,i.jsx)("div",{className:j().chatBody,ref:e,children:null===d||void 0===d?void 0:d.map((function(e,t){return(0,i.jsx)("div",{children:"member"==e.role?(0,i.jsxs)("div",{className:j().memberChat,children:[(0,i.jsx)("img",{className:j().iconMember,src:"/assets/images/product.png",alt:"image-contactUs"}),(0,i.jsx)("p",{children:e.message})]}):(0,i.jsxs)("div",{className:j().adminChat,children:[(0,i.jsx)("img",{className:j().iconAdmin,src:"/assets/images/contact.jpg",alt:"image-contactUs"}),(0,i.jsx)("p",{children:e.message})]})},t)}))}),(0,i.jsxs)("div",{className:j().chatFooter,children:[(0,i.jsx)("span",{className:j().iconPlus,children:(0,i.jsx)("i",{className:"fa-solid fa-circle-plus"})}),(0,i.jsx)("input",{value:g,type:"text",onChange:function(e){return b(e.target.value)},onKeyDown:function(e){13===e.keyCode&&L()}}),(0,i.jsx)("span",{className:j().iconSend,children:(0,i.jsx)("i",{className:"fa-solid fa-paper-plane",onClick:function(e){return L()}})})]})]})]})})}},36838:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return w},default:function(){return k}});var a=n(85893),s=n(9008),c=n.n(s),r=n(67294),i=n(47568),o=n(34051),l=n.n(o),u=n(9669),d=n.n(u),h=n(47041),m=n(6230),p=n.n(m),x=n(25675),f=n.n(x),g=n(11163),j=n(86455),v=n.n(j),N=n(15725),_=n.n(N),b=n(85760),C=_().apiPath;function y(){var e=function(){return""==se?(v().fire({icon:"warning",title:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e1a\u0e31\u0e0d\u0e0a\u0e35"}),!1):J?void v().fire({position:"center",icon:"question",title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e2b\u0e23\u0e37\u0e2d\u0e44\u0e21\u0e48",showCancelButton:!0,showConfirmButton:!0,confirmButtonColor:"#C93A87",confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",allowOutsideClick:!0}).then((function(e){if(e.isConfirmed){var t=new(p());t.append("name",U),t.append("address",F),t.append("phone",E),t.append("district",M),t.append("subdistrict",A),t.append("province",D),t.append("code",q),t.append("note",W),t.append("bank_ref",se.id),t.append("image",o.current.files[0]),e.isConfirmed&&function(e){oe.apply(this,arguments)}(t)}})):(v().fire({icon:"warning",title:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e2d\u0e31\u0e1b\u0e42\u0e2b\u0e25\u0e14\u0e2a\u0e25\u0e34\u0e1b"}),!1)},t=(0,g.useRouter)(),n=(0,r.useState)(!1),s=n[0],c=n[1],o=(0,r.useRef)(null),u=(0,r.useState)(),m=u[0],x=u[1],j=(0,r.useState)(),N=j[0],_=j[1],y=(0,r.useState)(),w=y[0],k=y[1],S=(0,r.useState)(),U=S[0],T=S[1],B=(0,r.useState)(),F=B[0],P=B[1],Z=(0,r.useState)(),E=Z[0],L=Z[1],z=(0,r.useState)(),A=z[0],O=z[1],H=(0,r.useState)(),M=H[0],R=H[1],V=(0,r.useState)(),D=V[0],G=V[1],X=(0,r.useState)(),q=X[0],I=X[1],K=(0,r.useState)(),W=K[0],Y=K[1],$=(0,r.useState)(null),J=$[0],Q=$[1],ee=(0,r.useState)([]),te=ee[0],ne=ee[1],ae=(0,r.useState)(""),se=ae[0],ce=ae[1];function re(){return(re=(0,i.Z)(l().mark((function e(){var t,n,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,h.getCookie)("access_token"),e.next=3,d()({method:"GET",url:"".concat(C,"/api/member/cart/get"),headers:{Authorization:"Bearer ".concat(t)}});case 3:n=e.sent,a=n.data.cart,_(n.data.totalprice),k(n.data.netprice),x(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=(0,i.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/api/bank/get"),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,ne(n.data),ce(n.data[0]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){return(oe=(0,i.Z)(l().mark((function e(n){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,h.getCookie)("access_token"),e.next=3,d()({method:"POST",url:"".concat(C,"/api/member/createOrder"),headers:{Authorization:"Bearer ".concat(a)},data:n}).then((function(e){v().fire({position:"center",icon:"success",title:"\u0e0a\u0e33\u0e23\u0e30\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08"}).then((function(){t.push("/member/order")}))}));case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){(function(){re.apply(this,arguments)})(),function(){ie.apply(this,arguments)}()}),[]),(0,a.jsx)(r.Fragment,{children:(0,a.jsxs)("div",{className:"pay-summery",children:[(0,a.jsxs)("div",{className:"pay-summery-column",children:[(0,a.jsx)("div",{className:"text-top",children:(0,a.jsx)("h2",{children:"\u0e2a\u0e23\u0e38\u0e1b\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19"})}),(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"head-table",children:[(0,a.jsx)("th",{children:"\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,a.jsx)("th",{className:"total",children:"\u0e23\u0e32\u0e04\u0e32 "})]})}),(0,a.jsxs)("tbody",{children:[m?(0,a.jsx)(a.Fragment,{children:m.map((function(e,t){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"column-left",children:(0,a.jsx)("div",{className:"column-text",children:(0,a.jsx)("h4",{children:e.productName})})})}),(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"column-right",children:(0,a.jsx)("p",{children:e.productPrice})})})]},t)}))}):null,(0,a.jsxs)("tr",{className:"td-summary",children:[(0,a.jsx)("td",{children:"\u0e23\u0e27\u0e21\u0e23\u0e32\u0e04\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"}),(0,a.jsx)("td",{children:w})]}),(0,a.jsxs)("tr",{className:"td-bottom",children:[(0,a.jsx)("td",{children:"\u0e23\u0e27\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"}),(0,a.jsx)("td",{children:N})]})]})]}),(0,a.jsxs)("div",{className:"column-informatin",children:[(0,a.jsxs)("div",{className:"column-left",children:[(0,a.jsx)("h2",{children:"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e08\u0e31\u0e14\u0e2a\u0e48\u0e07"}),(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e0a\u0e37\u0e48\u0e2d"}),(0,a.jsx)("input",{type:"text",defaultValue:U,onChange:function(e){return T(e.target.value)}})]}),(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48"}),(0,a.jsx)("textarea",{defaultValue:F,onChange:function(e){return P(e.target.value)}})]}),(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e40\u0e1a\u0e2d\u0e23\u0e4c\u0e42\u0e17\u0e23"}),(0,a.jsx)("input",{type:"text",value:E,onChange:function(e){(/^[0-9]+$/.test(e.target.value.trim())||""==e.target.value)&&L(e.target.value.trim())},maxLength:10})]}),(0,a.jsxs)("div",{className:"column",children:[(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e15\u0e33\u0e1a\u0e25/\u0e41\u0e02\u0e27\u0e07"}),(0,a.jsx)("input",{type:"text",defaultValue:A,maxLength:20,onChange:function(e){return O(e.target.value)}})]}),(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e2d\u0e33\u0e40\u0e20\u0e2d/\u0e40\u0e02\u0e15"}),(0,a.jsx)("input",{type:"text",defaultValue:M,maxLength:20,onChange:function(e){return R(e.target.value)}})]})]}),(0,a.jsxs)("div",{className:"column",children:[(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14"}),(0,a.jsx)("input",{type:"text",defaultValue:D,maxLength:20,onChange:function(e){return G(e.target.value)}})]}),(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"*\u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c"}),(0,a.jsx)("input",{type:"text",maxLength:5,value:q,onChange:function(e){(/^[0-9]+$/.test(e.target.value.trim())||""==e.target.value)&&I(e.target.value.trim())}})]})]}),(0,a.jsxs)("div",{className:"column-input",children:[(0,a.jsx)("label",{children:"\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e1d\u0e32\u0e01\u0e16\u0e36\u0e07\u0e1c\u0e39\u0e49\u0e02\u0e32\u0e22"}),(0,a.jsx)("textarea",{maxLength:200,defaultValue:W,onChange:function(e){return Y(e.target.value)}})]})]})]}),(0,a.jsxs)("div",{className:"column-right",children:[(0,a.jsx)("h2",{children:"\u0e0a\u0e33\u0e23\u0e30\u0e04\u0e48\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e25\u0e30\u0e1a\u0e23\u0e34\u0e01\u0e32\u0e23"}),(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"pay-dropdown",children:[(0,a.jsxs)("div",{className:"dropdown-toggle",onClick:function(){return c((function(e){return!e}))},children:[(0,a.jsxs)("div",{className:"dropdown-toggle-left",children:[(0,a.jsx)(f(),{src:"".concat(C,"/").concat(se.image),width:47,height:25}),se.bank_name," / ",se.bank_number," / ",se.name]}),(0,a.jsx)("div",{className:"dropdown-toggle-right",children:(0,a.jsx)("i",{className:"fa-solid fa-angle-down"})})]}),(0,a.jsx)("div",{className:"pay-dropdown-menu ".concat(s&&"active"),id:"pay-dropdown-menu",children:te?(0,a.jsx)(a.Fragment,{children:null===te||void 0===te?void 0:te.map((function(e,t){return(0,a.jsxs)("div",{className:"dropdown-item",onClick:function(){c((function(e){return!e})),ce(e)},children:[(0,a.jsx)("img",{src:"".concat(C,"/").concat(e.image),alt:"image-bankList"}),e.bank_name," / ",e.bank_number," / ",e.name]},t)}))}):(0,a.jsx)("p",{children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"})})]}),(0,a.jsxs)("div",{className:"column-upload-slip",children:[(0,a.jsxs)("div",{className:"left",style:{height:"auto",width:"200px"},children:[J?(0,a.jsx)("img",{src:J,alt:"image-slip",style:{width:"100%",height:"100%",objectFit:"contain",cursor:"pointer"},onClick:function(){return function(e){v().fire({imageUrl:e,imageWidth:400,imageHeight:520,imageAlt:"Custom image",showConfirmButton:!1,background:"rgba(0,0,0,0)"})}(J)}}):(0,a.jsx)("i",{className:"fa-solid fa-image"}),(0,a.jsx)("input",{style:{display:"none"},type:"file",accept:".jpeg,.jpg,.png",ref:o,onChange:function(e){return function(e){if(!e.target.files.length)return!1;if(["image/jpeg","iamge/jpg","image/png","image/webp"].includes(e.target.files[0].type)){var t=URL.createObjectURL(e.target.files[0]);Q(t)}else v().fire({title:"\u0e01\u0e23\u0e38\u0e13\u0e32\u0e2d\u0e31\u0e1b\u0e42\u0e2b\u0e25\u0e14\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e44\u0e1f\u0e25\u0e4c\u0e23\u0e39\u0e1b\u0e20\u0e32\u0e1e",icon:"warning",position:"center"})}(e)}})]}),(0,a.jsxs)("div",{className:"right",children:[(0,a.jsx)("h3",{children:"\u0e2d\u0e31\u0e1b\u0e42\u0e2b\u0e25\u0e14\u0e2a\u0e25\u0e34\u0e1b"}),(0,a.jsx)("p",{children:"\u0e02\u0e19\u0e32\u0e14\u0e2d\u0e31\u0e1b\u0e42\u0e2b\u0e25\u0e14\u0e44\u0e1f\u0e25\u0e4c\u0e20\u0e32\u0e1e \u0e44\u0e21\u0e48\u0e40\u0e01\u0e34\u0e19 5 Mb"}),(0,a.jsx)("button",{type:"button",onClick:function(){return o.current.click()},children:"\u0e2d\u0e31\u0e1b\u0e42\u0e2b\u0e25\u0e14"})]})]})]}),(0,a.jsx)("button",{onClick:function(){return e()},children:"\u0e2a\u0e48\u0e07"})]})]})]}),(0,a.jsx)(b.Z,{})]})})}var w=!0;function k(){return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(c(),{children:(0,a.jsx)("title",{children:"Payment"})}),(0,a.jsx)(y,{})]})}},57496:function(e){e.exports={statusChat:"contactUs_statusChat__4yzMc",newMessage:"contactUs_newMessage__5bOTd",chatContent:"contactUs_chatContent__zrKce",mymove:"contactUs_mymove__ohnuv",chatHeader:"contactUs_chatHeader__NHzwo",chatBody:"contactUs_chatBody__b6Imq",memberChat:"contactUs_memberChat__I3Y9E",adminChat:"contactUs_adminChat__1vv95",chatFooter:"contactUs_chatFooter__ZRmZX",iconPlus:"contactUs_iconPlus__zgrYW",iconSend:"contactUs_iconSend__GH_t8"}}},function(e){e.O(0,[675,354,774,888,179],(function(){return t=14773,e(e.s=t);var t}));var t=e.O();_N_E=t}]);