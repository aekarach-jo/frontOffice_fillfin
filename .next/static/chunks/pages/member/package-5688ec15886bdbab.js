(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[792],{32136:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/member/package",function(){return n(1597)}])},1597:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return b},default:function(){return w}});var a=n(85893),c=n(9008),r=n.n(c),i=n(67294),s=n(47568),o=n(34051),u=n.n(o),l=n(9669),p=n.n(l),d=n(47041),m=n(25675),h=n.n(m),g=n(11163),f=n(86455),k=n.n(f),x=n(4687),_=n(15725),v=n.n(_),j=n(65149),y=n.n(j),N=v().apiPath;function C(e){var t=e.packagesList,n=(0,x.b)(),c=(0,g.useRouter)(),r=(0,i.useState)(t),o=r[0],l=(r[1],(0,i.useState)((0,d.getCookie)("gender"))),m=l[0],f=(l[1],(0,i.useState)([])),_=f[0],v=f[1],j=(0,i.useState)((0,d.getCookie)("package")),C=j[0];j[1];function b(){return(b=(0,s.Z)(u().mark((function e(){var t,n,a,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,d.getCookie)("member_code"),n=(0,d.getCookie)("access_token"),e.prev=2,e.next=5,p()({method:"GET",url:"".concat(N,"/api/package/statusPayment/").concat(t),headers:{Authorization:"Bearer ".concat(n)}});case 5:a=e.sent,"pending"==a.data.statusPay?c.push("/member/payment"):(r=o.filter((function(e){return e.gender==m})),v(r)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),k().fire({icon:"error",position:"center",title:e.t0.description});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function w(){return(w=(0,s.Z)(u().mark((function e(){var t,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,d.getCookie)("member_code"),e.prev=1,e.next=4,p()({method:"GET",url:"".concat(N,"/api/package/checkPackage/").concat(t)});case 4:a=e.sent,a.data.status?n.emptyPackage.set_emptyPackage(!1):n.emptyPackage.set_emptyPackage(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),k().fire({icon:"error",position:"center"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return(0,i.useEffect)((function(){!function(){b.apply(this,arguments)}(),function(){w.apply(this,arguments)}()}),[]),(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)("h1",{style:{textAlign:"center",alignItems:"center",margin:"2rem"},children:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e41\u0e1e\u0e47\u0e01\u0e40\u0e01\u0e08"}),(0,a.jsx)("div",{className:y().containers,children:_.length>0&&(null===_||void 0===_?void 0:_.map((function(e,t){return(0,a.jsxs)("div",{className:y().card,children:[e.package_id==C,(0,a.jsxs)("div",{className:"column-detail",children:[(0,a.jsxs)("div",{className:"column-img",children:[(0,a.jsx)(h(),{width:217,height:223,src:"".concat(N).concat(e.image),style:{cursor:"pointer"},alt:"image-package",quality:20}),(0,a.jsxs)("div",{className:"bg-img",children:[(0,a.jsx)("h2",{children:e.name}),(0,a.jsx)("div",{className:"bg-color"})]})]}),(0,a.jsx)("div",{className:"text-line",children:(0,a.jsx)("p",{children:e.content})}),(0,a.jsx)("div",{className:"text",style:{display:"inline-flex",margin:"1rem"},children:(0,a.jsx)("button",{onClick:function(){return t=e,void k().fire({icon:"question",title:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e41\u0e1e\u0e47\u0e01\u0e40\u0e01\u0e08 "+t.name,position:"center",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19",cancelButtonText:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",confirmButtonColor:"#C93A87"}).then((function(e){e.isConfirmed&&((0,d.setCookies)("package",t.package_id),c.push("/member/payment"))}));var t},className:y().chooseBtn,children:"\u0e40\u0e25\u0e37\u0e2d\u0e01"})})]})]},t)})))})]})}var b=!0;function w(e){var t=e.packagesList;return(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(r(),{children:(0,a.jsx)("title",{children:"Package"})}),(0,a.jsx)(C,{packagesList:t})]})}},65149:function(e){e.exports={containers:"package_containers__pzAsH",card:"package_card__fNhVj",chooseBtn:"package_chooseBtn__soFXo"}}},function(e){e.O(0,[675,774,888,179],(function(){return t=32136,e(e.s=t);var t}));var t=e.O();_N_E=t}]);