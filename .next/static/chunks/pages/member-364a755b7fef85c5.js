(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{46539:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/member",function(){return n(41154)}])},85760:function(t,e,n){"use strict";n.d(e,{Z:function(){return N}});var r=n(47568),c=n(29815),a=n(34051),s=n.n(a),o=n(85893),i=n(9669),u=n.n(i),l=n(47041),d=n(25675),m=n.n(d),h=n(67294),p=n(4687),f=n(15725),g=n.n(f),x=n(57496),v=n.n(x),j=n(57046).io,_=g().socketPath,b=g().apiPath;function N(){var t=(0,h.useRef)(0),e=(0,h.useState)(!1),n=e[0],a=e[1],i=(0,h.useState)([]),d=i[0],f=i[1],g=(0,h.useState)(""),x=g[0],N=g[1],y=(0,p.b)(),C=j(_),w=(0,l.getCookie)("access_token"),k=y.isLogin.get_login,A=y.isStore.get_isStore,S=(0,h.useState)(!0),E=S[0],Z=S[1],P=(0,l.getCookie)("name");function T(){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u()({method:"get",url:"".concat(b,"/api/member/getOldChat"),headers:{Authorization:"Bearer ".concat(w)}}).then((function(e){Z(e.data.statusRead),f(e.data.oldMessage),n&&setTimeout((function(){null!=t.current&&t.current.scrollTo({behavior:"smooth",top:t.current.scrollHeight})}),500)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function R(){return(R=(0,r.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u()({method:"get",url:"".concat(b,"/api/member/readChat"),headers:{Authorization:"Bearer ".concat(w)}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function U(){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(t){return(0,c.Z)(t).concat([{role:"member",message:x}])})),N(""),setTimeout((function(){t.current.scrollTo({behavior:"smooth",top:t.current.scrollHeight})}),200),e.prev=3,e.next=6,u()({method:"POST",url:"".concat(b,"/api/member/chatToAdmin"),headers:{Authorization:"Bearer ".concat(w)},data:{message:x}}).then((function(t){}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}(0,h.useEffect)((function(){n&&(!function(){R.apply(this,arguments)}(),T())}),[n]),C.on("connect",(function(){})),C.on("user-".concat(P),(function(t,e){!function(t){f((function(e){return(0,c.Z)(e).concat([{username:t.username,role:t.role,message:t.message}])})),T(),N("")}(t)}));return(0,o.jsx)(h.Fragment,{children:k&&!A&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"contact-us",children:(0,o.jsxs)("div",{className:"column-contact-us",children:[!n&&(0,o.jsx)("div",{className:"text-contact-us",children:(0,o.jsx)("p",{children:"\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e40\u0e23\u0e32"})}),(0,o.jsxs)("div",{className:"img-contact-us",onClick:function(){return a(!n)},children:[!E&&(0,o.jsx)("div",{className:v().statusChat,children:(0,o.jsx)("div",{className:v().newMessage,children:"  "})}),(0,o.jsx)(m(),{className:v().logoContact,width:57,height:57,src:"/assets/images/contact.jpg",alt:"image-contactUs"})]})]})}),n&&(0,o.jsxs)("div",{className:v().chatContent,children:[(0,o.jsx)("div",{className:v().chatHeader,children:(0,o.jsx)("p",{children:"Fillfin"})}),(0,o.jsx)("div",{className:v().chatBody,ref:t,children:null===d||void 0===d?void 0:d.map((function(t,e){return(0,o.jsx)("div",{children:"member"==t.role?(0,o.jsxs)("div",{className:v().memberChat,children:[(0,o.jsx)("img",{className:v().iconMember,src:"/assets/images/product.png",alt:"image-contactUs"}),(0,o.jsx)("p",{children:t.message})]}):(0,o.jsxs)("div",{className:v().adminChat,children:[(0,o.jsx)("img",{className:v().iconAdmin,src:"/assets/images/contact.jpg",alt:"image-contactUs"}),(0,o.jsx)("p",{children:t.message})]})},e)}))}),(0,o.jsxs)("div",{className:v().chatFooter,children:[(0,o.jsx)("span",{className:v().iconPlus,children:(0,o.jsx)("i",{className:"fa-solid fa-circle-plus"})}),(0,o.jsx)("input",{value:x,type:"text",onChange:function(t){return N(t.target.value)},onKeyDown:function(t){13===t.keyCode&&U()}}),(0,o.jsx)("span",{className:v().iconSend,children:(0,o.jsx)("i",{className:"fa-solid fa-paper-plane",onClick:function(t){return U()}})})]})]})]})})}},3323:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});var r=n(85893),c=n(25675),a=n.n(c),s=n(67294),o=n(15725),i=n.n(o)().apiPath;function u(t){var e=t.banner;return(0,r.jsx)(s.Fragment,{children:(0,r.jsx)("div",{className:"banner-top",children:(0,r.jsxs)("div",{className:"banner",children:[(0,r.jsx)("div",{className:"column-banner"}),(0,r.jsx)(a(),{src:"".concat(i,"/").concat(e.image),layout:"fill",alt:"iamge-cover"}),(0,r.jsx)("div",{className:"column-text",children:(0,r.jsxs)("div",{className:"column",children:[(0,r.jsx)("h1",{children:e.title}),(0,r.jsx)("p",{children:e.content})]})})]})})})}},8289:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(85893),c=(n(67294),n(15725)),a=n.n(c);function s(t){var e=t.image;if(!e)return(0,r.jsx)("img",{src:"/assets/images/product.png",alt:"image-product"});var n=a().apiPath;return e.split(",").map((function(t,e){return(0,r.jsx)("img",{src:"".concat(n).concat(t),alt:"image-choose",style:{margin:"0 0.2rem"},onClick:function(t){t.target.closest(".recommend-column").querySelector(".image-main").setAttribute("src",t.target.getAttribute("src"))},onError:function(t){return t.target.setAttribute("src","/assets/images/product.png"),!1}},e)}))}},8290:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(85893),c=(n(41664),n(67294),n(15725)),a=n.n(c);function s(t){var e=t.image;if(!e)return(0,r.jsx)("img",{src:"/assets/images/product.png",alt:"image-product"});var n=a().apiPath,c=e.split(",");return(0,r.jsx)("img",{src:"".concat(n,"/").concat(c[0]),alt:"image-show",style:{cursor:"pointer"},className:"image-main",onError:function(t){return t.target.setAttribute("src","/assets/images/product.png"),!1}})}},12707:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r=n(85893),c=(n(19806),n(11163)),a=n(67294);function s(t){var e=t.page,n=(0,c.useRouter)(),s=(0,a.useState)(),o=s[0],i=s[1],u=(0,a.useState)(e.total_page),l=u[0],d=(u[1],(0,a.useState)(1)),m=d[0],h=d[1];return(0,a.useEffect)((function(){!function(){for(var t=[],e=1;e<=l;e++)t.push(e);i(t),h(n.query.page)}()}),[]),(0,r.jsx)("div",{className:"pagination",children:null===o||void 0===o?void 0:o.map((function(t,e){return(0,r.jsx)("div",{children:(0,r.jsx)("a",{className:"".concat(m==t&&"active"),href:"/member?page=".concat(t.toString()),children:t})},e)}))})}},41154:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return O},default:function(){return B}});var r=n(85893),c=n(67294),a=n(3323),s=n(9008),o=n.n(s),i=n(47568),u=n(828),l=n(34051),d=n.n(l),m=n(9669),h=n.n(m),p=n(47041),f=n(25675),g=n.n(f),x=n(41664),v=n.n(x);function j(t,e,n){var r=this,a=(0,c.useRef)(null),s=(0,c.useRef)(0),o=(0,c.useRef)(null),i=(0,c.useRef)([]),u=(0,c.useRef)(),l=(0,c.useRef)(),d=(0,c.useRef)(t),m=(0,c.useRef)(!0);(0,c.useEffect)((function(){d.current=t}),[t]);var h=!e&&0!==e&&"undefined"!=typeof window;if("function"!=typeof t)throw new TypeError("Expected a function");e=+e||0;var p=!!(n=n||{}).leading,f=!("trailing"in n)||!!n.trailing,g="maxWait"in n,x=g?Math.max(+n.maxWait||0,e):null;(0,c.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var v=(0,c.useMemo)((function(){var t=function(t){var e=i.current,n=u.current;return i.current=u.current=null,s.current=t,l.current=d.current.apply(n,e)},n=function(t,e){h&&cancelAnimationFrame(o.current),o.current=h?requestAnimationFrame(t):setTimeout(t,e)},c=function(t){if(!m.current)return!1;var n=t-a.current;return!a.current||n>=e||n<0||g&&t-s.current>=x},v=function(e){return o.current=null,f&&i.current?t(e):(i.current=u.current=null,l.current)},j=function t(){var r=Date.now();if(c(r))return v(r);if(m.current){var o=e-(r-a.current),i=g?Math.min(o,x-(r-s.current)):o;n(t,i)}},_=function(){var d=Date.now(),h=c(d);if(i.current=[].slice.call(arguments),u.current=r,a.current=d,h){if(!o.current&&m.current)return s.current=a.current,n(j,e),p?t(a.current):l.current;if(g)return n(j,e),t(a.current)}return o.current||n(j,e),l.current};return _.cancel=function(){o.current&&(h?cancelAnimationFrame(o.current):clearTimeout(o.current)),s.current=0,i.current=a.current=u.current=o.current=null},_.isPending=function(){return!!o.current},_.flush=function(){return o.current?v(Date.now()):l.current},_}),[p,g,e,x,f,h]);return v}function _(t,e){return t===e}function b(t){return"function"==typeof t?function(){return t}:t}var N=n(15725),y=n.n(N),C=n(85760),w=n(8289);function k(t){var e=t.image,n=y().apiPath,c=e.split(",");return(0,r.jsx)("img",{src:"".concat(n).concat(c[0]),"data-src1":"".concat(n).concat(c[0]),"data-src2":"".concat(n).concat(c[1]),onMouseOver:function(t){t.target.setAttribute("src",t.target.getAttribute("data-src2"))},onMouseLeave:function(t){t.target.setAttribute("src",t.target.getAttribute("data-src1"))},alt:"image-hover"})}var A=n(8290),S=n(86484),E=n.n(S),Z=n(12707),P=n(86455),T=n.n(P),F=n(4687),R=y().apiPath;function U(t){var e=t.stores,n=t.banner,a=T().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:800,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",T().stopTimer),t.addEventListener("mouseleave",T().resumeTimer)}}),s=(0,F.b)(),o=e.data,l=(o.store_all,o.product_recom),m=(0,c.useState)(""),f=m[0],x=m[1],N=(0,u.Z)(function(t,e,n){var r,a,s=n&&n.equalityFn||_,o=(r=(0,c.useState)(b(t)),a=r[1],[r[0],(0,c.useCallback)((function(t){return a(b(t))}),[])]),i=o[0],u=o[1],l=j((0,c.useCallback)((function(t){return u(t)}),[u]),e,n),d=(0,c.useRef)(t);return s(d.current,t)||(l(t),d.current=t),[i,l]}(f,500),1),y=N[0],S=(0,c.useState)(),P=(S[0],S[1],(0,c.useState)(e.data.store_all)),U=P[0],O=P[1],B=e.data.current_page,M={current_page:e.data.current_page,per_page:e.data.per_page,total_page:e.data.total_page,total_store:e.data.total_store};function z(){return(z=(0,i.Z)(d().mark((function t(){var e,n,r,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new URLSearchParams({page:B,search:y}),n=(0,p.getCookie)("access_token"),r=(0,p.getCookie)("gender"),t.next=5,h()({method:"GET",url:"".concat(R,"/api/product/").concat(r,"/allStore?").concat(e.toString()),headers:{Authorization:"Bearer ".concat(n)}});case 5:c=t.sent,O(c.data.data.store_all);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=(0,i.Z)(d().mark((function t(e){var n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,p.getCookie)("access_token"),t.next=3,h()({method:"GET",url:"".concat(R,"/api/member/cart/add/").concat(e),headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){"product was add to cart."==t.data.description?(a.fire({icon:"success",title:"\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e41\u0e25\u0e49\u0e27"}),q()):a.fire({icon:"warning",title:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"+t.data.productName+"\u0e21\u0e35\u0e43\u0e19\u0e15\u0e30\u0e01\u0e23\u0e49\u0e32\u0e41\u0e25\u0e49\u0e27"})}));case 3:t.sent;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function q(){return L.apply(this,arguments)}function L(){return L=(0,i.Z)(d().mark((function t(){var e,n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,p.getCookie)("access_token"),t.next=3,h()({method:"GET",url:"".concat(R,"/api/member/cart/get"),headers:{Authorization:"Bearer ".concat(e)}});case 3:n=t.sent,(r=n.data.cart.length)>0&&s.cartQty.set_cart_qty(r);case 6:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}return(0,c.useEffect)((function(){!function(){z.apply(this,arguments)}()}),[y]),(0,r.jsx)(c.Fragment,{children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:"product",children:[(0,r.jsx)(C.Z,{}),(0,r.jsxs)("div",{className:"col-product",children:[(0,r.jsxs)("div",{className:"column-left",children:[(0,r.jsx)("h2",{children:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e19\u0e30\u0e19\u0e33"}),(0,r.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. "}),(0,r.jsx)("div",{className:"column-product-recommend",children:l.length>0?(0,r.jsx)(r.Fragment,{children:null===l||void 0===l?void 0:l.map((function(t,e){return(0,r.jsxs)("div",{className:"recommend-column ".concat(E().productAll_storeCard),children:[(0,r.jsx)(A.Z,{image:t.product_img}),(0,r.jsx)("div",{className:"column-img-bottom",style:{display:"flex",margin:"0.5rem 0"},children:(0,r.jsx)(w.Z,{image:t.product_img})}),(0,r.jsxs)("div",{className:"column-text-bottom",children:[(0,r.jsx)("h4",{children:t.name_product}),(0,r.jsx)("p",{className:E().textContent,children:t.content_product}),t.canbuy?(0,r.jsxs)("button",{style:{cursor:"pointer"},onClick:function(){return function(t){return H.apply(this,arguments)}(t.product_code)},children:[(0,r.jsx)("i",{className:"fa-solid fa-cart-shopping"}),t.price]}):(0,r.jsx)("button",{style:{cursor:"not-allowed"},children:(0,r.jsx)("i",{className:"fa-solid fa fa-eye-slash"})})]})]},e)}))}):(0,r.jsx)("p",{children:"\u0e44\u0e21\u0e48\u0e21\u0e35\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e19\u0e30\u0e19\u0e33"})})]}),(0,r.jsxs)("div",{className:"column-right",children:[(0,r.jsxs)("div",{className:"text-column-top",children:[(0,r.jsx)("h2",{children:n.title}),(0,r.jsx)("p",{children:n.content})]}),(0,r.jsxs)("form",{className:"search",children:[(0,r.jsx)("input",{type:"text",placeholder:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e0a\u0e37\u0e48\u0e2d\u0e23\u0e49\u0e32\u0e19",name:"search",onChange:function(t){x(t.target.value)}}),(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)("i",{className:"fa fa-search"})})]}),(0,r.jsx)("div",{className:"column-product",children:null===U||void 0===U?void 0:U.map((function(t,e){return(0,r.jsxs)("div",{className:"column ".concat(E().productAll_storeCard),children:[(0,r.jsx)(v(),{href:"/member/store/".concat(t.store_code),children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"column-top",style:{cursor:"pointer"},children:[(0,r.jsx)(g(),{src:"".concat(R).concat(t.store_profile),style:{cursor:"pointer"},width:40,height:40,alt:"store_profile"}),(0,r.jsx)("p",{children:t.store_name})]}),(0,r.jsxs)("div",{className:"column-center ",style:{cursor:"pointer"},children:[t.preOrder?(0,r.jsx)("img",{src:"".concat(R).concat(t.product_img),alt:"image-preOrder"}):(0,r.jsx)(k,{image:t.product_img}),(0,r.jsx)("p",{className:E().textContent,style:{textAlign:"center"},children:t.content_product})]})]})}),(0,r.jsx)("div",{className:"column-bottom",children:t.preOrder?(0,r.jsx)(v(),{href:"/member/store/".concat(t.store_code),children:(0,r.jsxs)("button",{children:[(0,r.jsx)("i",{className:"fa-regular fa-clock"}),"\u0e2a\u0e31\u0e48\u0e07\u0e08\u0e2d\u0e07\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19 ",t.totalProduct," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"]})}):(0,r.jsx)(v(),{href:"/member/store/".concat(t.store_code),children:(0,r.jsxs)("button",{children:["\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e19\u0e23\u0e49\u0e32\u0e19\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14 ",t.totalProduct," \u0e23\u0e32\u0e22\u0e01\u0e32\u0e23"]})})})]},e)}))}),(0,r.jsx)(Z.Z,{page:M})]})]})]})})})}var O=!0;function B(t){var e=t.storeObj,n=t.bannerCover;return(0,r.jsxs)(c.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"FillFin"})}),(0,r.jsx)(a.Z,{banner:n.banner}),(0,r.jsx)(U,{stores:e,banner:n.banner})]})}},57496:function(t){t.exports={statusChat:"contactUs_statusChat__4yzMc",newMessage:"contactUs_newMessage__5bOTd",chatContent:"contactUs_chatContent__zrKce",mymove:"contactUs_mymove__ohnuv",chatHeader:"contactUs_chatHeader__NHzwo",chatBody:"contactUs_chatBody__b6Imq",memberChat:"contactUs_memberChat__I3Y9E",adminChat:"contactUs_adminChat__1vv95",chatFooter:"contactUs_chatFooter__ZRmZX",iconPlus:"contactUs_iconPlus__zgrYW",iconSend:"contactUs_iconSend__GH_t8"}},86484:function(t){t.exports={productAll_storeCard:"productAll_productAll_storeCard__8ohEr",productAll_productRec:"productAll_productAll_productRec__jvNA9",textContent:"productAll_textContent__4p8dO"}},72950:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){}},function(t){t.O(0,[675,354,806,774,888,179],(function(){return e=46539,t(t.s=e);var e}));var e=t.O();_N_E=e}]);