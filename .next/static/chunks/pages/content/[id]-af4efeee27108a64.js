(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{21509:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/content/[id]",function(){return n(36444)}])},85760:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var s=n(47568),a=n(29815),c=n(34051),r=n.n(c),o=n(85893),i=n(9669),l=n.n(i),u=n(47041),m=n(25675),d=n.n(m),h=n(67294),g=n(4687),p=n(15725),x=n.n(p),f=n(57496),_=n.n(f),v=n(57046).io,j=x().socketPath,N=x().apiPath;function C(){var e=(0,h.useRef)(0),t=(0,h.useState)(!1),n=t[0],c=t[1],i=(0,h.useState)([]),m=i[0],p=i[1],x=(0,h.useState)(""),f=x[0],C=x[1],b=(0,g.b)(),w=v(j),k=(0,u.getCookie)("access_token"),y=b.isLogin.get_login,U=b.isStore.get_isStore,S=(0,h.useState)(!0),T=S[0],P=S[1],Z=(0,u.getCookie)("name");function F(){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l()({method:"get",url:"".concat(N,"/api/member/getOldChat"),headers:{Authorization:"Bearer ".concat(k)}}).then((function(t){P(t.data.statusRead),p(t.data.oldMessage),n&&setTimeout((function(){null!=e.current&&e.current.scrollTo({behavior:"smooth",top:e.current.scrollHeight})}),500)}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function z(){return(z=(0,s.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l()({method:"get",url:"".concat(N,"/api/member/readChat"),headers:{Authorization:"Bearer ".concat(k)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function E(){return M.apply(this,arguments)}function M(){return(M=(0,s.Z)(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p((function(e){return(0,a.Z)(e).concat([{role:"member",message:f}])})),C(""),setTimeout((function(){e.current.scrollTo({behavior:"smooth",top:e.current.scrollHeight})}),200),t.prev=3,t.next=6,l()({method:"POST",url:"".concat(N,"/api/member/chatToAdmin"),headers:{Authorization:"Bearer ".concat(k)},data:{message:f}}).then((function(e){}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})))).apply(this,arguments)}(0,h.useEffect)((function(){n&&(!function(){z.apply(this,arguments)}(),F())}),[n]),w.on("connect",(function(){})),w.on("user-".concat(Z),(function(e,t){!function(e){p((function(t){return(0,a.Z)(t).concat([{username:e.username,role:e.role,message:e.message}])})),F(),C("")}(e)}));return(0,o.jsx)(h.Fragment,{children:y&&!U&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"contact-us",children:(0,o.jsxs)("div",{className:"column-contact-us",children:[!n&&(0,o.jsx)("div",{className:"text-contact-us",children:(0,o.jsx)("p",{children:"\u0e15\u0e34\u0e14\u0e15\u0e48\u0e2d\u0e40\u0e23\u0e32"})}),(0,o.jsxs)("div",{className:"img-contact-us",onClick:function(){return c(!n)},children:[!T&&(0,o.jsx)("div",{className:_().statusChat,children:(0,o.jsx)("div",{className:_().newMessage,children:"  "})}),(0,o.jsx)(d(),{className:_().logoContact,width:57,height:57,src:"/assets/images/contact.jpg",alt:"image-contactUs"})]})]})}),n&&(0,o.jsxs)("div",{className:_().chatContent,children:[(0,o.jsx)("div",{className:_().chatHeader,children:(0,o.jsx)("p",{children:"Fillfin"})}),(0,o.jsx)("div",{className:_().chatBody,ref:e,children:null===m||void 0===m?void 0:m.map((function(e,t){return(0,o.jsx)("div",{children:"member"==e.role?(0,o.jsxs)("div",{className:_().memberChat,children:[(0,o.jsx)("img",{className:_().iconMember,src:"/assets/images/product.png",alt:"image-contactUs"}),(0,o.jsx)("p",{children:e.message})]}):(0,o.jsxs)("div",{className:_().adminChat,children:[(0,o.jsx)("img",{className:_().iconAdmin,src:"/assets/images/contact.jpg",alt:"image-contactUs"}),(0,o.jsx)("p",{children:e.message})]})},t)}))}),(0,o.jsxs)("div",{className:_().chatFooter,children:[(0,o.jsx)("span",{className:_().iconPlus,children:(0,o.jsx)("i",{className:"fa-solid fa-circle-plus"})}),(0,o.jsx)("input",{value:f,type:"text",onChange:function(e){return C(e.target.value)},onKeyDown:function(e){13===e.keyCode&&E()}}),(0,o.jsx)("span",{className:_().iconSend,children:(0,o.jsx)("i",{className:"fa-solid fa-paper-plane",onClick:function(e){return E()}})})]})]})]})})}},36444:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return l},default:function(){return u}});var s=n(85893),a=n(9008),c=n.n(a),r=n(67294),o=n(85760);function i(e){var t=e.content;return(0,s.jsx)(r.Fragment,{children:(0,s.jsxs)("div",{className:"terms-service",children:[(0,s.jsxs)("div",{className:"img-background",children:[(0,s.jsx)("img",{className:"img-left",src:"/assets/images/man.png",alt:"image-men"}),(0,s.jsx)("img",{className:"img-right",src:"/assets/images/woman.png",alt:"image-women"})]}),(0,s.jsx)(o.Z,{}),(0,s.jsxs)("div",{className:"terms-service-column",children:[(0,s.jsx)("div",{className:"text-head",children:(0,s.jsx)("h2",{children:t.title})}),(0,s.jsx)("div",{className:"column-text",children:(0,s.jsx)("div",{style:{wordWrap:"break-word",display:"inline-block"},children:(0,s.jsx)("div",{className:"editor",dangerouslySetInnerHTML:{__html:"".concat(t.content)}})})})]})]})})}var l=!0;function u(e){var t=e.content;return(0,s.jsxs)(r.Fragment,{children:[(0,s.jsx)(c(),{children:(0,s.jsx)("title",{children:t.title})}),(0,s.jsx)(i,{content:t})]})}},57496:function(e){e.exports={statusChat:"contactUs_statusChat__4yzMc",newMessage:"contactUs_newMessage__5bOTd",chatContent:"contactUs_chatContent__zrKce",mymove:"contactUs_mymove__ohnuv",chatHeader:"contactUs_chatHeader__NHzwo",chatBody:"contactUs_chatBody__b6Imq",memberChat:"contactUs_memberChat__I3Y9E",adminChat:"contactUs_adminChat__1vv95",chatFooter:"contactUs_chatFooter__ZRmZX",iconPlus:"contactUs_iconPlus__zgrYW",iconSend:"contactUs_iconSend__GH_t8"}}},function(e){e.O(0,[675,354,774,888,179],(function(){return t=21509,e(e.s=t);var t}));var t=e.O();_N_E=t}]);